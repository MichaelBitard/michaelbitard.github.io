function setupStage(){var a=$("#vcard"),b=($(window).height()-a.height())/2;a.css("marginTop",b)}function setupAnchor(){$(window).bind("hashchange",function(){var a="#"+window.location.hash.slice(1);"#"!=a&&scrollTo(a)})}function setupScroller(){scrollerComplete=1;var a=$(".contentitem"),b=a.size(),c=a.width(),d=c*b;$("#scroller").width(d+30*b);var e,f=document.location.toString();f.match("#")?(e="#"+f.split("#")[1],$("#menu").children().removeClass("active"),$("a[href="+e+"]").parent().addClass("active"),scrollTo(e,1)):(activeMenu=$("#menu").children("li:first").children().attr("href"),scrollTo(activeMenu,1)),a.fadeIn(700)}function setupMenu(){$("#menu").children().click(function(){scrollTo($(this).children().attr("href"))})}function setupNetworks(){var a=$(".networks");a.children("li").children("a").children(".content").animate({marginLeft:1},1),a.children("li").hover(function(){$(this).children("a").children(".background").fadeIn(150),$(this).children("a").children(".content").animate({marginLeft:5},150)},function(){$(this).children("a").children(".background").fadeOut(150),$(this).children("a").children(".content").animate({marginLeft:0},150)})}function scrollTo(a,b){var c,d,e,f;if(a!=activeMenu&&scrollerComplete){activeMenu=a,$("#menu").children().removeClass("active"),$("a[href="+a+"]").parent().addClass("active"),c=a.split("#");var g=$(".contentitem[id='menu_"+c[1]+"']");d=g.index(),e=$(".contentitem").width(),f=-(d*e+30*d),document.title=g.children(".pagetitle").text(),0>=f&&(scrollerComplete=0,b?($("#scroller").css("marginLeft",f),scrollerComplete=1):iexplorer?$("#scroller").animate({marginLeft:f},500,function(){scrollerComplete=1}):$("#scroller").animate({opacity:.4},200,function(){$("#scroller").animate({marginLeft:f},500,function(){$("#scroller").animate({opacity:1},200,function(){scrollerComplete=1})})}))}}var scrollerComplete,activeMenu,iexplorer;$(document).ready(function(){setupStage(),setupAnchor(),setupScroller(),setupMenu(),setupNetworks(),$(window).resize(function(){setupStage()}),$("#wrapper").animate({opacity:1},1e3)});